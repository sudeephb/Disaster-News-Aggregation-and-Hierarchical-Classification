(this.webpackJsonpreact_major=this.webpackJsonpreact_major||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"natural":[{"geophysical":["earthquake","landslide"]},{"meterological":["storm","rain","lightning","extreme_temperatures","thunder"]},{"hydrological":["flood","avalanche"]},{"climatological":["drought","forest_fire"]},{"biological":["insect_infestation","epidemic"]}],"technological":[{"transport_accident":["air_accident","road_accident"]},{"miscellaneous":["fire_and_explosion"]}]}')},22:function(e,t,a){e.exports=a.p+"static/media/logo.d3428200.svg"},30:function(e,t,a){e.exports=a(42)},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),s=(a(35),a(12)),o=a.n(s),i=a(16),u=a(9),m=a(7),b=a(19),d=Object(n.createContext)(),f="http://127.0.0.1:8000",h=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),h=Object(m.a)(s,2),p=h[0],v=h[1],g=Object(n.useState)([]),x=Object(m.a)(g,2),E=x[0],y=x[1],_=Object(n.useState)(!0),j=Object(m.a)(_,2),N=j[0],w=j[1],O=Object(n.useState)(5),k=Object(m.a)(O,2),C=k[0],S=k[1],L=Object(n.useState)(1),A=Object(m.a)(L,2),T=A[0],B=A[1],P=Object(n.useState)(""),q=Object(m.a)(P,2),J=q[0],$=q[1],D=Object(n.useState)([{level:"label2",category:"all"}]),M=Object(m.a)(D,2),W=M[0],F=M[1];function I(e){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(o.a.mark((function e(t){var a,n,l,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:1,n=r.length>2&&void 0!==r[2]&&r[2],l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},fetch("".concat(f,"/disaster/?page_no=").concat(a),l).then((function(e){return e.json()})).then((function(e){c(e)})),fetch("".concat(f,"/disaster/count/"),l).then((function(e){return e.json()})).then((function(e){S(e)})),F(t),1===a&&B(1),!0===n&&w(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){var e=[];for(var t in b)for(var a=b[t],n=0;n<a.length;n++)for(var l in a[n])e.push.apply(e,Object(u.a)(a[n][l]));var r=[];e.map((function(e){r.push({label_name:e,is_selected:!0})})),v(r)}(),I(W)}),[]),l.a.createElement(d.Provider,{value:{newsList:r,labels:p,setLabels:v,setNewsList:c,label2_list:E,setLabel2List:y,allCheckboxChecked:N,setAllCheckBoxChecked:w,newsCount:C,setNewsCount:S,fetchAndSetNewsList:I,requestArray:W,setRequestArray:F,currentPage:T,setCurrentPage:B,activeTab2:J,setActiveTab2:$}},e.children)},p=function(e){var t,a=e.news;return l.a.createElement("div",{className:"flex bg-white shadow-lg rounded-lg mx-4 md:mx-auto my-3 max-w-md md:max-w-2xl "},l.a.createElement("div",{className:"flex items-start px-4 py-6"},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"flex items-center justify-between"},l.a.createElement("h2",{className:"text-lg font-semibold text-blue-500 hover:text-blue-600 hover:underline cursor-pointer -mt-1"},l.a.createElement("a",{href:a.url,target:"_blank"},a.title_text))),l.a.createElement("small",null,l.a.createElement("p",{className:"text-gray-600"}," ",l.a.createElement("a",{href:a.source_link,target:"_blank"}," ","".concat(a.source_name))," | ".concat(a.published_date_readable)," ")),l.a.createElement("p",{className:"mt-1 text-gray-700 text-sm"},(t=a.summary).length>165?(t.substring(0,162)+"...").replace(/<\/?[^>]+(>|$)/g,""):t.replace(/<\/?[^>]+(>|$)/g,"")),l.a.createElement("div",{className:"mt-2 flex items-center"},l.a.createElement("span",{className:"badge badge-pill badge-primary label-individual"},"null"!==a.label?a.label:""),l.a.createElement("span",{className:"badge badge-pill badge-secondary label-individual"},"null"!==a.label3?a.label3:""),l.a.createElement("span",{className:"badge badge-pill badge-dark label-individual"},"null"!==a.label2?a.label2:"")))))},v=a(61),g=function(){var e=Object(n.useContext)(d),t=e.newsList;e.fetchAndSetNewsList,e.labels,e.requestArray;return l.a.createElement("div",{className:"flex news-list justify-center content-center"},l.a.createElement("ul",null,t.map((function(e){return l.a.createElement(p,{news:e,key:Object(v.a)()})}))))},x=a(26),E=function(){var e=Object(n.useContext)(d),t=e.labels,a=e.setLabels,r=(e.setNewsList,e.allCheckBoxChecked,e.setAllCheckBoxChecked),c=e.fetchAndSetNewsList;return l.a.createElement("div",{className:"news-selector flex text-black border border-gray-400"},l.a.createElement("div",{className:"mt-8 ml-4"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Submitted ==== "),console.log("Lables ==== ",t),a(t);var n=Object(u.a)(t);c(n.map((function(e){return{label_name:e.label_name,is_selected:e.is_selected.toString()}})))},id:"newsSelectorForm"},l.a.createElement("label",{className:"mb-3"},l.a.createElement("input",{className:"mr-1",id:"label_all",type:"checkbox",defaultChecked:!0,onChange:function(e){return function(e){var n=e.target.checked;r(n);for(var l=[],c=0;c<t.length;c++)l[c]={label_name:t[c].label_name,is_selected:n};a(l)}(e)}}),"Select all"),t.map((function(e){return l.a.createElement("div",{key:Object(v.a)()},l.a.createElement("label",null,l.a.createElement("input",{className:"mr-1",id:"label_".concat(e.label_name),type:"checkbox",defaultChecked:e.is_selected,onChange:function(){!function(e){for(var a=0;a<t.length;a++)t[a].label_name===e.label_name&&(t[a].is_selected=!t[a].is_selected)}(e)}}),e.label_name))})),l.a.createElement(x.a,{type:"submit",className:"btn-primary"},"Show"))))},y=a(60),_=a(22),j=a.n(_),N=function(){return l.a.createElement(y.a,{bg:"dark",variant:"dark"},l.a.createElement(y.a.Brand,{href:"#home"},l.a.createElement("img",{alt:"",src:j.a,width:"30",height:"30",className:"d-inline-block align-top"})," ","Disaster News"))},w=a(19),O=function(){var e=Object(n.useContext)(d),t=e.setLabels,a=(e.labels,e.setLabel2List),r=(e.setNewsList,e.newsList,e.fetchAndSetNewsList),c=e.setActiveTab2,s=Object(n.useState)("all"),o=Object(m.a)(s,2),i=o[0],b=o[1],f=["all"];for(var h in w)f.push(h);var p=function(e){var n=function(e){var t=[];if("all"===(e=e.toLowerCase())){for(var a in w)for(var n=w[a],l=0;l<n.length;l++)for(var r in n[l])t.push.apply(t,Object(u.a)(n[l][r]));return t}if(!w[e])return t;n=w[e];for(l=0;l<n.length;l++)for(var r in n[l])t.push.apply(t,Object(u.a)(n[l][r]));return t}(e),l=function(e){var t=[];if(w[e])for(var a=0;a<w[e].length;a++)t.push.apply(t,Object(u.a)(Object.keys(w[e][a])));return t}(e);a(l);var s=[];n.map((function(e){s.push({label_name:e,is_selected:!0})}));for(var o=0;o<s.length;o++)s[o].label_name=s[o].label_name.replace(" ","_");t(s);var m=[{level:"label2",category:e.replace(" ","_")}];b(e),c(""),console.log("Active tab ========== ",i),r(m,1,!0)},g=["-mb-px mr-1 cursor-pointer","bg-white inline-block border-l border-t border-r rounded-t py-2 px-4","text-blue-500 font-semibold underline"],x=["mr-1 cursor-pointer hover:text-blue-500","bg-silver inline-block py-2 px-4  hover:text-blue-500","text-gray-500 font-semibold  hover:text-blue-500 hover:underline"];return l.a.createElement("ul",{className:"list-reset flex border-b"},f.map((function(e){return l.a.createElement("li",{key:Object(v.a)(),className:e===i?g[0]:x[0]},l.a.createElement("div",{className:e===i?g[1]:x[1],onClick:function(){p(e)}},l.a.createElement("span",{className:e===i?g[2]:x[2]},e)))})))},k=a(19),C=function(){var e=Object(n.useContext)(d),t=e.setLabels,a=e.label2_list,r=(e.setNewsList,e.fetchAndSetNewsList),c=e.activeTab2,s=e.setActiveTab2,o=function(e){var a=function(e){var t=[];for(var a in k)for(var n=k[a],l=0;l<n.length;l++)for(var r=Object.keys(n[l]),c=0;c<r.length;c++)r[c]===e&&t.push.apply(t,Object(u.a)(n[l][r[c]]));return t}(e),n=[];a.map((function(e){n.push({label_name:e,is_selected:!0})}));for(var l=0;l<n.length;l++)n[l].label_name=n[l].label_name.replace(" ","_");t(n);var c=[{level:"label3",category:e}];s(e),r(c,1,!0)};return l.a.createElement("div",{className:"bg-white"},l.a.createElement("nav",{className:"flex flex-col sm:flex-row"},a.map((function(e){return l.a.createElement("button",{onClick:function(){o(e)},key:Object(v.a)(),className:e===c?"text-gray-600 py-2 px-6 block hover:text-blue-500 focus:outline-none text-blue-500 border-b-2 font-medium border-blue-500":"text-gray-600 py-2 px-6 block hover:text-blue-500 focus:outline-none"},e)}))))},S=function(){return l.a.createElement("div",null,l.a.createElement(O,null),l.a.createElement(C,null))},L=a(59),A=function(){var e=Object(n.useContext)(d),t=e.newsCount,a=e.requestArray,r=e.fetchAndSetNewsList,c=e.currentPage,s=e.setCurrentPage,o=t>15?Math.ceil(t/15):1;return Object(n.useEffect)((function(){}),[t]),l.a.createElement("div",{className:"flex list-reset rounded w-auto font-sans justify-center mb-8 mt-4"},l.a.createElement(L.a,{count:o,page:c,siblingCount:3,boundaryCount:2,variant:"outlined",shape:"rounded",onChange:function(e,t){console.log(t),s(t),r(a,t)}}))},T=function(){return l.a.createElement("div",{className:"content-area mt-2 items-center"},l.a.createElement(g,null),l.a.createElement(A,null))};var B=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(N,null),l.a.createElement(h,null,l.a.createElement(S,null),l.a.createElement("div",{className:"body-content"},l.a.createElement(E,null),l.a.createElement(T,null),l.a.createElement("div",{className:"null-component border border-gray-400"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(41);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.31bde5cb.chunk.js.map